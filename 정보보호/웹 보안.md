# 웹 보안

---
## 웹의 이해
- 웹의 정식 명칭은 World Wide Web로, 세계 규모의 거미집 모양의 망이라는 뜻이다.  
- 다른 문서와 연관 관계를 가진 텍스트를 의미하는 `하이퍼텍스트`를 이용하면  
  단어나 문구를 마우스로 클릭하여 관련 주제에 대한 정보를 추가로 얻을 수 있다.  
- 현재 웹 문서로 가장 많이 쓰이는 HTML은 하이퍼텍스트를 효과적으로 전달하기 위한 스크립트 언어이다.  

### HTTP   
- 웹에 접근하려면 크롬, 사파리와 같은 웹 브라우저가 필요하다.    
- 웹에서 가장 흔히 쓰이는 프로토콜은 HTTP 이다.

#### HTTP Request  
웹 서버에 데이터를 요청하거나 전송할 때 보내는 패킷으로 GET, POST와 같은 메소드를 주로 쓴다.  

1. GET 방식 : 가장 일반적인 HTTP 리퀘스트 형태로, 요청 데이터의 인수를 웹 브라우저의 URL을 통해 전송한다.  
  www.wishfree.or.kr/list.php?page=1&search=test  
  각각의 이름과 값을 &로 결합하고, 글자수는 255자로 제한한다.  
  이 방식은 데이터가 주소 입력란에 표시되기 때문에 최소한의 보안도 유지되지 않는다.  
  
2. POST 방식 : URL에 요청 데이터를 기록하지 않고, HTTP 헤더에 데이터를 전송하기에 최소한의 보안성은 갖추고 있다.   
  내부의 구분자가 파라미터(이름과 값)을 구분하고, 서버가 각 구분자에 대한 내용을 해석하여 데이터를  
  처리하기 때문에 GET 방식에 비해 처리 속도가 상대적으로 느리다.  
  게시판의 글 보기는 GET을, 게시글을 저장,수정,삭제하거나 대용량의 데이터를 전송할 때는 POST 방식을 쓴다.
  
#### HTTP Response  
클라이언트의 HTTP Request에 대한 응답이다.  
헤더에는 프로토콜 버전, 실행 결과 코드 등이 담겨있으며, 헤더 정보 뒤에는 실제 데이터(HTML, Image)가 전달된다.  
데이터 전달이 끝나면 서버는 연결을 끊는다.  


### HTML  
- 웹 서비스는 HTML과 같은 웹 언어를 통해 제공된다.  
- 웹 서버에 HTML 문서를 저장하고 있다가 클라이언트가 특정 HTML 페이지를 요청하면 해당 문서를 클라이언트에 전송한다.  
- 클라이언트는 이 웹 페이지를 웹 브라우저를 이용하여 화면에 표현하는데, 이런 웹 페이지를 `정적인 웹 페이지` 라고 한다.  
- 사용자들의 다양한 요구를 충족하고자 자바스크립트와 같이 `동적인 페이지`를 제공하는 스크립트인 CSS가 개발되었다.  
- 웹 페이지를 요청하면 서버가 이를 주는데, 웹브라우저가 HTML을 파싱하다가 JS부분이 나왔네? 이 부분을 요청해야지 해서 재요청  
  을 하면 서버는 JS에 해당하는 스크립트 파일을 준다.   


---
## 웹 해킹의 이해

- 웹 해킹을 할 때 `웹 프록시` 툴을 이용한다.  
- 보통 클라이언트에 설치되고, 클라이언트의 통제를 받는다.  
- 클라이언트가 웹 서버와 웹 브라우저 간에 전달되는 모든 HTTP 패킷을 웹 프록시를 통해 확인하면서 수정이 가능하다.  
- 웹 해커가 되려면 많은 시간을 들여 사이의 패킷을 읽어봄으로써 전송되는 데이터의 의미와 역할을 파악해야 한다.
- 사실 보는 것 뿐만아니라 패킷을 위조, 변조할 수도 있다.

### 서버 -> 클라이언트 패킷 변조

웹 프록시를 통해 확인하는 것은 HTTP 패킷이고, 그의 Body부분에 있을 HTML 파일이다.  
HTML 파일의 일부를 수정하여 마저 웹 브라우저로 보내면 거기선 위조된 웹 페이지를 화면에 출력한다.  

<img src="https://user-images.githubusercontent.com/93998875/198835155-80321f13-e9fb-4964-8a4a-dfea55807b1d.png" width="70%" height="70%"/>  


### 클라이언트 -> 서버 패킷 변조

HTTP 패킷의 헤더부분에 요청하고자 하는 페이지의 URI가 있을 것이다. 
그 곳의 인수를 수정하여 원래와는 다른 웹 페이지를 요청할 수도 있다.  
만약 URI를 수정하여 요청한 웹 페이지가 비밀 글이라면 원래는 접근이 안되는 거였지만 불법적으로 접근하게 되는 것이다.  

<img src="https://user-images.githubusercontent.com/93998875/198835164-d818bd47-aee8-4516-8de9-f252cf8a3c25.png" width="70%" height="70%"/>  










